{template .expression}
  {@param a: any}
  {@param b: any}
  {isNonnull($a)
    ? $a  ?.field ?.template['index']?[1]
    : ([1, 2, 3][$b   .if] ?: 4)
  }
  {true}
  {my.proto.enum.VALUE}
{/template}
